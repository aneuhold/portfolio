ci:
  collect:
    numberOfRuns: 3
    settings:
      preset: desktop
  assert:
    # Remove the preset to avoid strict individual audit checks
    assertions:
      # Category score thresholds
      categories:performance:
        - error
        - minScore: 0.8
      categories:accessibility:
        - error
        - minScore: 0.8
      categories:best-practices:
        - error
        - minScore: 0.8
      categories:seo:
        - error
        - minScore: 0.8

      # Performance metric budgets
      interactive:
        - error
        - maxNumericValue: 3000
      first-contentful-paint:
        - error
        - maxNumericValue: 1500

      # Resource size budgets
      resource-summary:script:size:
        - error
        - maxNumericValue: 128000 # 125KB in bytes
      resource-summary:total:size:
        - error
        - maxNumericValue: 307200 # 300KB in bytes

      is-crawlable: off # This is expected for preview deployments

