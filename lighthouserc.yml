ci:
  collect:
    numberOfRuns: 3
    settings:
      preset: desktop
  assert:
    preset: lighthouse:recommended
    assertions:
      # Category score thresholds
      categories:performance:
        - error
        - minScore: 0.8
      categories:accessibility:
        - error
        - minScore: 0.8
      categories:best-practices:
        - error
        - minScore: 0.8
      categories:seo:
        - error
        - minScore: 0.8

      # Performance metric budgets (from budget.json)
      interactive:
        - error
        - maxNumericValue: 3000
      first-contentful-paint:
        - error
        - maxNumericValue: 1500

      # Resource size budgets (from budget.json)
      resource-summary:script:size:
        - error
        - maxNumericValue: 128000 # 125KB in bytes
      resource-summary:total:size:
        - error
        - maxNumericValue: 307200 # 300KB in bytes
  upload:
    target: temporary-public-storage
